name: Test connectivity to Lightsail

on:
  push:           # âœ… push íŠ¸ë¦¬ê±° ì¶”ê°€
    branches:
      - main

  workflow_dispatch:  # ğŸ‘ˆ ê¸°ì¡´ ìˆ˜ë™ ì‹¤í–‰ë„ ìœ ì§€

jobs:
  ping-test:
    runs-on: ubuntu-latest
    steps:
      - name: Test SSH
        run: |
          echo "ğŸ” Trying to connect to ${{ secrets.EC2_HOST }}"
          timeout 10s bash -c "</dev/tcp/${{ secrets.EC2_HOST }}/22" && echo "âœ… Port 22 open" || echo "âŒ Port 22 closed"
