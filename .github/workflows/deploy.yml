name: Test SSH connectivity

on:
  workflow_dispatch:

jobs:
  ping-test:
    runs-on: ubuntu-latest
    steps:
      - name: Test SSH
        run: |
          echo "🔁 Trying to connect to ${{ secrets.EC2_HOST }}"
          timeout 10s bash -c "</dev/tcp/${{ secrets.EC2_HOST }}/22" && echo "✅ Port 22 open" || echo "❌ Port 22 closed"
